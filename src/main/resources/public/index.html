<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <title>Accounting Ledger</title>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <link rel="stylesheet" href="/styles.css"/>
</head>
<body>
<header class="topbar">
    <div class="brand">
        <div class="logo">AL</div>
        <div class="titles">
            <h1>Accounting Ledger</h1>
            <p class="subtitle">Clean. Fast. Auditable.</p>
        </div>
    </div>
    <div class="actions">
<!--        <button id="btn-refresh" class="btn ghost" title="Reload data">‚Üª</button>-->
        <a class="btn outline" href="/api/transactions" target="_blank" rel="noopener">Raw API Response</a>
    </div>
</header>

<main class="container">
    <!-- KPIs -->
    <section class="grid cards" id="metrics">
        <div class="card kpi">
            <div class="kpi-label">Balance</div>
            <div class="kpi-value" id="kpi-balance">‚Äî</div>
            <div class="kpi-sub" id="kpi-balance-sub">Sum of all transactions</div>
        </div>
        <div class="card kpi">
            <div class="kpi-label">Total Deposits</div>
            <div class="kpi-value pos" id="kpi-deposits">‚Äî</div>
            <div class="kpi-sub" id="kpi-deposits-sub">Amount & count</div>
        </div>
        <div class="card kpi">
            <div class="kpi-label">Total Payments</div>
            <div class="kpi-value neg" id="kpi-payments">‚Äî</div>
            <div class="kpi-sub" id="kpi-payments-sub">Amount & count</div>
        </div>
        <div class="card kpi">
            <div class="kpi-label">Transactions</div>
            <div class="kpi-value" id="kpi-count">‚Äî</div>
            <div class="kpi-sub">Loaded records</div>
        </div>
    </section>

    <!-- Simple controls -->
    <section class="card filters">
        <div class="toolbar">
            <!-- Left: chips -->
            <div class="chipbar">
                <button class="chip" data-endpoint="/api/transactions">All</button>
                <button class="chip" data-endpoint="/api/transactions/deposits">Deposits</button>
                <button class="chip" data-endpoint="/api/transactions/payments">Payments</button>
            </div>

            <!-- Right: inline date range -->
            <div class="daterange">
                <input type="date" id="range-start" aria-label="Start date" />
                <span class="dash">‚Äì</span>
                <input type="date" id="range-end" aria-label="End date" />
                <button id="btn-range" class="btn ghost">Show Range</button>
            </div>
        </div>
    </section>


    <!-- Table -->
    <section class="card">
        <div class="table-wrap">
            <table id="tbl">
                <thead>
                <tr>
                    <th>Date</th>
                    <th>Description</th>
                    <th>Vendor</th>
                    <th class="num">Amount</th>
                    <th>Type</th>
                    <th>Time</th>
                </tr>
                </thead>
                <tbody id="rows"></tbody>
            </table>
            <div id="empty" class="empty hidden">
                <div class="icon">üóÇÔ∏è</div>
                <div class="title">No records</div>
                <div class="hint">Try switching between All, Deposits, or Payments.</div>
            </div>
        </div>
        <div class="footerbar">
        </div>
    </section>
</main>

<div id="toast" class="toast hidden"></div>
<script src="/app.js" defer></script>
</body>
</html>
